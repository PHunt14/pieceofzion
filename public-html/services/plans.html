<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <title>Web Services - Zion Small Business Services</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1 class="centered-title">Small Business Plans</h1>
    <header>
        <div id="site-nav"></div>
    </header>
    <script>
        fetch('includes/nav.html')
            .then(res => res.text())
            .then(html => document.getElementById('site-nav').innerHTML = html);
    </script>
    <main>
        <div class="tabs" role="tablist" aria-label="Plans">
            <button class="tab active" id="tab-starter" role="tab" aria-selected="true" aria-controls="panel-starter" tabindex="0" data-tab="starter">Starter</button>
            <button class="tab" id="tab-bronze" role="tab" aria-selected="false" aria-controls="panel-bronze" tabindex="-1" data-tab="bronze">Bronze</button>
        </div>
        <div id="panel-starter" class="tab-content active" role="tabpanel" aria-labelledby="tab-starter">
            <p>$50 to get started and $50 a month gets a basic hosted website with 3 pages</p>
        </div>
        <div id="panel-bronze" class="tab-content bronze-tab" role="tabpanel" aria-labelledby="tab-bronze" hidden>
            <p>$150 to get started and $150 a month gets a basic business site with monthly updates</p>
        </div>
        <p>Looking for a more complex setup? We have the right solution for you! Contact us today!</p>
    </main>
    <footer id="site-footer"></footer>
    <script>
      fetch('../includes/footer.html')
        .then(res => res.text())
        .then(html => document.getElementById('site-footer').innerHTML = html);

      // Accessible tab functionality
      const tabs = document.querySelectorAll('.tab');
      const panels = document.querySelectorAll('.tab-content');

      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          // Update tab states
          tabs.forEach(t => {
            t.classList.remove('active');
            t.setAttribute('aria-selected', 'false');
            t.setAttribute('tabindex', '-1');
          });
          this.classList.add('active');
          this.setAttribute('aria-selected', 'true');
          this.setAttribute('tabindex', '0');

          // Update panel visibility
          panels.forEach(panel => {
            panel.classList.remove('active');
            panel.setAttribute('hidden', 'hidden');
          });
          const panel = document.getElementById('panel-' + this.dataset.tab);
          panel.classList.add('active');
          panel.removeAttribute('hidden');
          panel.focus();
        });

        // Keyboard navigation
        tab.addEventListener('keydown', function(e) {
          let idx = Array.prototype.indexOf.call(tabs, this);
          if (e.key === 'ArrowRight') {
            tabs[(idx + 1) % tabs.length].focus();
          } else if (e.key === 'ArrowLeft') {
            tabs[(idx - 1 + tabs.length) % tabs.length].focus();
          }
        });
      });
    </script>
</body>
</html>
